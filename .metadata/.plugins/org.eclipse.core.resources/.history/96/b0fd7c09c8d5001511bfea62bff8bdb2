$("#cadastrarUsuario").on('click', function(){
	HM.usuario.adicionar({
		data:HM.usuario.getValor(),
		success : function(data) {
			console.log(data);
			bootbox.alert(data);
			carregar('resources/usuario/gerenciaUsuario.html');
		},
		error : function(error) {
			console.log(error);
		}
	});
});
HM.usuario.getValor = function(value){
	var newUsuario = new Object();
	$("form div input, form div select").each(function(){
		newUsuario[this.name]=this.value;
		});
	return newUsuario;
};
$(document).ready(function(){
		HM.cidade.listar({
			async : false,
			success : function(data) {
				var html = "";
				for ( var i = 0; i < data.length; i++) {
					html += "<option value='"
							+ data[i].cod
							+ "'>"
							+ data[i].cidade
							+ "</option>";
				}
				$("#txtcidade").append(html);
			},
			error:function(err){
				console.log(err);
			}
		});
		$("#txtcidade").on('change', function(){
			HM.bairro.listar({
				data: $('#txtcidade').val(),
				success:function(data){
					var html = "";
					for ( var i = 0; i < data.length; i++) {
						html += "<option value='"
								+ data[i].codBairro
								+ "'>"
								+ data[i].bairro
								+ "</option>";
					}
					$("#txtbairro").html(html);
				},
				error:function(err){
					console.log(err);
				}
			});
		});
});