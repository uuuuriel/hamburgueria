import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import br.com.hamburgueria.exception.NoResultException;
import br.com.hamburgueria.jdbcinterface.TaxaDAO;
import br.com.hamburgueria.objs.Taxa;
import br.com.hamburgueria.objs.Usuario;

public class JDBCTaxaDAO implements TaxaDAO {
	private Connection conexao;

	public JDBCTaxaDAO(Connection conexao) {
		this.conexao = conexao;
	}

	public List<Taxa> buscarPorNome(String nome) throws NoResultException  {
		String comando = "select * from taxas  ";
		if (!nome.equals("")) {
			comando += "where taxa like '" + nome + "%'";
		}
		List<Usuario> list = new ArrayList<Usuario>();
		Usuario user = null;
		try {
			java.sql.Statement stmt = conexao.createStatement();
			ResultSet rs = stmt.executeQuery(comando);
			while (rs.next()) {
				user = new Usuario();
				user.setBairro(rs.getInt("bairro"));
				user.setCidade(rs.getInt("cidade"));
				user.setBairro(rs.getInt("bairro"));
				user.setCidade(rs.getInt("cidade"));
				list.add(user);
			}
			if(list.isEmpty()){
				throw new NoResultException();
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return list;
	}

	@Override
	public List<Taxa> buscar(String list) throws NoResultException {
		// TODO Auto-generated method stub
		return null;
	}
}